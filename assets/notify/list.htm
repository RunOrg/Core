<ul class="actions" style="margin: auto; width: 806px;">
  <li class="-r">
    <a class="action-button -admin" href="{options}">{`Notify_Link_Settings}</a>
  </li>
  <li>
    <a {$zap} class="action-button" href="javascript:void(0)">{`Notify_Link_Zap}</a>
    <script type="zap:json">
here.$zap.click () -> 
  to_endpoint zap
  $('#notifications span').text("0").removeClass("-on")
  $(".-unseen").removeClass("-unseen")
    </script>
  </li>
</ul>

<div class="notify-list">
  { inner | ohm } 

  {@!inner}
    {#list}
      <div class="-instance">
        {=instance}
          <a class="-instance-name" href="{url}">
  	    {?pic}<span class="-pic"><img src="{this}"/></span>{/?}
  	    {name}
          </a>
        {/=}
        <div class="-body">
	  <ul>
	    {#items}
  	      <li {if seen}{else}class="-unseen"{/if}>{body|ohm}</li>
	    {/#}
	  </ul>
	</div>
      </div>
    {else}
      <div class="empty-list">
        { `Notify_List_Empty } 
      </div>
    {/#}
    {?more}
      { this | VMore.div | ohm }
    {/?}
  {/@}

</div>

<style>

.notify-list {
  margin: 10px auto;
  width: 800px;
  .-instance {
    border-top: 1px solid #BBB;
    padding-bottom: 30px;
  }
  .-body {
    margin-left: 72px;
    overflow: hidden;
    > ul { 
      margin: 0px; 
      padding: 0px;
      li { 
        &.-unseen {
          background-color: #FEC;
          text-shadow: 0 1px 0 white;
        } 
        font-size: 13px;
        border-top: 1px dashed #DDD;
        padding: 0 8px 0 40px;
        display: block;
        line-height: 20px;
        overflow: hidden; 
        position: relative;       
        strong {
          color: #24B;
          font-weight: normal;
        }
        > a {
          display: block; 
          padding: 8px 0;
          height: 20px;
          color: #333;
        }
        .-buttons {
          padding-bottom: 8px;
          a { display: inline-block; }
        }
        .-text {
          display: block;
          white-space: nowrap;
          overflow: hidden;
        }
        .-date { 
          color: #888;
          float: right;
          margin-left: 20px;
        } 
        img { 
          height: 28px;
          width: 28px; 
          position: absolute; 
          left: 4px;
          top: 4px;
        } 
        &:first-child { border-top: none }         
      } 
    } 
  }
  .-instance-name {
    background-color: #EEE;
    border-bottom: 1px solid #DDD;
    display: block;
    font-size: 13px;
    padding: 4px 8px;
    color: black;
    .-pic {
      width: 50px;
      height: 50px;
      padding: 2px;
      border: 1px solid #DDD;
      float: left;
      background-color: white;
      margin-right: 8px;
      img { width: 50px; height: 50px; } 
    }
  }
}

</style>
