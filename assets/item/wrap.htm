<div class="item">

  <div class="shadow -top"><div class="-inner"></div></div>

  {=author}<a href="{url}"><img src="{pic}"/></a>{/=}

  <div class="-body">
    <span class="-info">
      {=author}<a class="-author" href="url}">{name}</a>{/=} { `Item_Author_Action action }
    </span>
    { body | ohm } 
    <div class="-foot">
      {`DateRelative time}
      {?like}&middot; {this | ohm}{/?}
      <span class="-actions">
	{?remove}
	  &middot; <a {$a} href="javascript:void(0)">{ `Item_Remove }</a> 
	  <script type="url:string">
here.$a.click ->
  post url, {}, ->
    false  
  here.$a.closest(".item").slideUp () -> 
    $(@).remove()
	  </script>
	{/?}
      </span>
    </div>
    <div {$c} class="-comments">
      {=comments}
        {?more}
  	  <a {$a} href="javascript:void(0)" class="-more">{ `Item_Comments_More }</a>
	  <script type="url:string">
lock = false
here.$a.click () -> 
  return if lock
  lock = true
  post url, {}, (data) -> 
    lock = false
    return if !data.all
    here.$a.remove() 
    here.$c.find(".comment").remove()
    here.$c.prepend(data.all.html)
    call data.all.code
	  </script>
	{/?}
        { list | ohm | Ohm.Html.concat }
      {/=}
      { reply | ohm }
    </div>
  </div>
  
</div>
