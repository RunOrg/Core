<div {$real} class="joinstatus {status}">
  {text | ohm} 
</div>

<div {$wrap} class="joinstatus-fullscreen">
  <div {$copy} class="-inner">
    <div class="joinstatus {status}">
      {text | ohm} <a class="-close">&times;</a>
    </div>
    <div class="join-form">
      {form | ohm}
    </div>
  </div>
</div>

<script type="refresh:string">
pos = here.$real.position()
wid = here.$real.outerWidth()
here.$copy.css {top:pos.top+'px', left:pos.left+'px', width: wid+'px'}  

close = (ev) -> 
  if $(ev.target).is(".joinstatus-fullscreen") || $(ev.target).is("a.-close")
    here.$wrap.remove()
    post refresh, null, (d) -> 
      if d.replace
        here.$real.replaceWith(d.replace.html)
        call d.replace.code
      call d.code 

here.$wrap.click close

</script>

<style>
.joinstatus-fullscreen {
  background-color: white;
  background-color: rgba(255, 255, 255, 0.75);
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
  z-index: 1000;
  height:1882px;

  .-close {
    color: white;
    cursor: pointer;
    float: right;
    font-size: 30px;
    line-height: 24px;
    padding: 0 8px 2px;
  }

  .-inner {
    position: absolute;
  }  

  .-inner > * {
    box-shadow: 0 0 3px #CCC;
  }

  .join-form {
    background-color: white;
    border: 1px solid #BBB;
    border-radius: 3px;
    margin-top: 20px;
    padding: 14px;
    background-color: #EEE;
    background: -moz-linear-gradient(top , #DDD, #EEE 150px);
    background: -webkit-linear-gradient(top , #DDD, #EEE 150px);
  }

  .elite-buttons {
    margin-bottom: 0;
  }

  .elite-field-label { 
    font-size: 14px;
    width: 100px;
  }

  .elite-field-actual {
    margin-left: 120px;
  }
}

</style>
