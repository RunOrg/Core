<div {$root} class="joinstatus {status}">
  {text | ohm} 
  {#buttons}
    <a {$a} href="javascript:void(0)" class="action-button{if green} -green{/if}">{label | ohm}</a>
    {=action}
      <script type="url:string,data:json">
here.$a.click -> 
  post url, data, (d) -> 
    if d.replace
      here.$root.replaceWith(d.replace.html)
      call d.replace.code
    call d.code
      </script>
    {/=}
  {/#}
</div>

<style>
.joinstatus {
  border-radius: 3px;
  color: white;
  font-size: 15px;
  padding: 2px 8px;
  font-weight: bold;
  font-family: 'Open Sans Condensed',sans-serif;
  height: 27px;
  line-height: 25px;

  &.-none {
    border: 1px solid #555;
    background-color: #777;
    background: -webkit-linear-gradient(top, #888, #777);
    background: -moz-linear-gradient(top, #888, #777);
    text-shadow: 0 -1px #555;
  }

  &.-invited {
    border: 1px solid #58B;
    background-color: #7BD;
    background: -webkit-linear-gradient(top, #8CE, #7BD);
    background: -moz-linear-gradient(top, #8CE, #7BD);
    text-shadow: 0 -1px #58B;
  }

  &.-joined {
    border: 1px solid #080;
    background-color: #3b3;
    background: -webkit-linear-gradient(top, #5d5, #3b3);
    background: -moz-linear-gradient(top, #5d5, #3b3);
    text-shadow: 0 -1px #080;
  }

  .action-button {
    float: right;
    box-shadow: none;
  }
}
</style>
