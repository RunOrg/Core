<div {$full} class="subscribe {if follows}-follows{/if}">
  <div class="-wrap">
    <div class="-head">
      <div style="float: left">
	<span>{num_sbs | string_of_int | esc}</span>&ensp;<small>{`Website_Count_Subscribers num_sbs}</small>
      </div>
      <div style="float: right">
	<span>{num_brc | string_of_int | esc}</span>&ensp;<small>{`Website_Count_Articles num_brc}</small>
      </div>
    </div>
    {?form}
      <div class="-body">
        <p>{`Website_Subscribe_Call}</p>
	{ this | ohm } 
      </div>
    {else}
      <div {$body} class="-body">      
        {if follows} 
          <p>{`Website_Unsubscribe_Call}</p>
  	  <center>
	    <a href="javascript:void(0)" class="action-button">{`Website_Unsubscribe_Button}</a>
	  </center>
        {else}
          <p>{`Website_Subscribe_Call}</p>
	  <center>
	    <a href="javascript:void(0)" class="action-button -green">{`Website_Subscribe_Button}</a>
	  </center>
        {/if} 
      </div>
      <script type="url:string,follows:bool">
here.$body.find('a').click () -> 
  $.post url, {_:0}, (result) -> 
    call result.code if result.code
      (if follows then unslide else slide) here.$full, result.replace if result.replace 
      </script>
    {/?}
  </div> 
</div>


<style>
.subscribe {

  &.-follows {
    .-wrap {
      background-color: #EFE;
      border: 1px solid #070;
      box-shadow: 0 0 3px #888;
    }
    .-head { 
      background-color: #4C4;
      background: -webkit-linear-gradient(center top , #4C4 0%, #2A2 100%) repeat scroll 0 0 transparent;
      background: -moz-linear-gradient(center top , #4C4 0%, #2A2 100%) repeat scroll 0 0 transparent;
      border-bottom: 1px solid #070;
      color: white;    
      text-shadow: 0 -1px 0 #007700;
      small { color: white } 
    } 
  }

  padding-bottom: 60px;
 
  .-wrap {
    border: 1px solid #CCC; 
  }
  .-head {
    overflow: hidden;
    padding-top: 2px;
    border-bottom: 1px solid #CCC;
    div { 
      width: 50%; 
      text-align: center;
    } 
    small { 
      color: #888;
      font-size: 12px;
      height: 21px;
      line-height: 18px;
      vertical-align: top;
      display: inline-block;
    } 
  }
  .-body {
    padding: 0 7px 7px;
    .action-button { display: inline-block } 
    p {     
      color: #555555;
      margin: 10px 0;
      font-size: 13px;
    }
  }  
}
</style>
